# ğŸ“¦ è‡ªåŠ¨å‘å¸ƒæŒ‡å—

æœ¬é¡¹ç›®å·²é…ç½®äº† GitHub Actions è‡ªåŠ¨åŒ–å‘å¸ƒç³»ç»Ÿï¼Œå½“æ‚¨æ¨é€ tag åˆ° GitHub æ—¶ï¼Œä¼šè‡ªåŠ¨ç¼–è¯‘æ‰“åŒ…å¹¶å‘å¸ƒæ–°ç‰ˆæœ¬åˆ° GitHub Releasesã€‚

## ğŸš€ å¿«é€Ÿå‘å¸ƒ

### æ–¹æ³•ä¸€ï¼šä½¿ç”¨å‘å¸ƒè„šæœ¬ï¼ˆæ¨èï¼‰

#### Linux/macOS ç”¨æˆ·
```bash
# ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x scripts/release.sh

# è¿è¡Œå‘å¸ƒè„šæœ¬
./scripts/release.sh
```

#### Windows ç”¨æˆ·
```powershell
# åœ¨ PowerShell ä¸­è¿è¡Œ
.\scripts\release.ps1

# æˆ–æŒ‡å®šç‰ˆæœ¬å·
.\scripts\release.ps1 -Version "1.8.1"
```

### æ–¹æ³•äºŒï¼šæ‰‹åŠ¨åˆ›å»º tag

```bash
# 1. ç¡®ä¿æ‰€æœ‰æ›´æ”¹å·²æäº¤
git add .
git commit -m "ä½ çš„æäº¤ä¿¡æ¯"

# 2. åˆ›å»ºå¹¶æ¨é€ tag
git tag -a v1.8.1 -m "Release version 1.8.1"
git push origin v1.8.1
```

## ğŸ”§ å·¥ä½œæµè¯´æ˜

### è‡ªåŠ¨å‘å¸ƒå·¥ä½œæµ (release.yml)
- **è§¦å‘æ¡ä»¶**: æ¨é€ä»¥ `v` å¼€å¤´çš„ tagï¼ˆå¦‚ `v1.8.1`ï¼‰
- **åŠŸèƒ½**:
  - è‡ªåŠ¨è®¾ç½® Java 8 ç¯å¢ƒ
  - ä½¿ç”¨ Maven ç¼–è¯‘æ‰“åŒ…é¡¹ç›®
  - åˆ›å»º GitHub Release
  - ä¸Šä¼  jar æ–‡ä»¶åˆ° Release

### æŒç»­é›†æˆå·¥ä½œæµ (build.yml)
- **è§¦å‘æ¡ä»¶**: æ¨é€åˆ° main/master/develop åˆ†æ”¯æˆ–åˆ›å»º Pull Request
- **åŠŸèƒ½**:
  - ç¼–è¯‘é¡¹ç›®
  - è¿è¡Œæµ‹è¯•
  - ä¸Šä¼ æ„å»ºäº§ç‰©ä½œä¸º artifacts

## ğŸ“‹ å‘å¸ƒæµç¨‹

1. **å‡†å¤‡é˜¶æ®µ**
   - ç¡®ä¿æ‰€æœ‰ä»£ç æ›´æ”¹å·²æäº¤
   - æ›´æ–°ç‰ˆæœ¬å·ï¼ˆå¯é€‰ï¼Œè„šæœ¬ä¼šè‡ªåŠ¨å¤„ç†ï¼‰
   - æµ‹è¯•æœ¬åœ°æ„å»ºï¼š`mvn clean package`

2. **åˆ›å»ºå‘å¸ƒ**
   - è¿è¡Œå‘å¸ƒè„šæœ¬æˆ–æ‰‹åŠ¨åˆ›å»º tag
   - æ¨é€ tag åˆ° GitHub

3. **è‡ªåŠ¨æ„å»º**
   - GitHub Actions è‡ªåŠ¨è§¦å‘
   - ç¼–è¯‘æ‰“åŒ…é¡¹ç›®
   - åˆ›å»º GitHub Release

4. **å‘å¸ƒéªŒè¯**
   - æ£€æŸ¥ GitHub Actions æ„å»ºçŠ¶æ€
   - éªŒè¯ Release é¡µé¢çš„æ–‡ä»¶
   - æµ‹è¯•ä¸‹è½½çš„ jar æ–‡ä»¶

## ğŸ“ ç‰ˆæœ¬å·è§„èŒƒ

é¡¹ç›®ä½¿ç”¨ [è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶](https://semver.org/)ï¼š

- **ä¸»ç‰ˆæœ¬å· (MAJOR)**: ä¸å…¼å®¹çš„ API ä¿®æ”¹
- **æ¬¡ç‰ˆæœ¬å· (MINOR)**: å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- **ä¿®è®¢å· (PATCH)**: å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

ç¤ºä¾‹ï¼š`1.8.1`
- `1`: ä¸»ç‰ˆæœ¬å·
- `8`: æ¬¡ç‰ˆæœ¬å·  
- `1`: ä¿®è®¢å·

## ğŸ” å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æŸ¥çœ‹æ„å»ºçŠ¶æ€ï¼Ÿ
A: è®¿é—®é¡¹ç›®çš„ GitHub Actions é¡µé¢ï¼š`https://github.com/ä½ çš„ç”¨æˆ·å/ä½ çš„ä»“åº“å/actions`

### Q: æ„å»ºå¤±è´¥äº†æ€ä¹ˆåŠï¼Ÿ
A: 
1. æ£€æŸ¥ GitHub Actions çš„é”™è¯¯æ—¥å¿—
2. ç¡®ä¿æœ¬åœ°å¯ä»¥æˆåŠŸæ‰§è¡Œ `mvn clean package`
3. æ£€æŸ¥ pom.xml é…ç½®æ˜¯å¦æ­£ç¡®

### Q: å¦‚ä½•åˆ é™¤é”™è¯¯çš„ tagï¼Ÿ
A:
```bash
# åˆ é™¤æœ¬åœ° tag
git tag -d v1.8.1

# åˆ é™¤è¿œç¨‹ tag
git push origin :refs/tags/v1.8.1
```

### Q: å¦‚ä½•ä¿®æ”¹å‘å¸ƒè¯´æ˜ï¼Ÿ
A: ç¼–è¾‘ `.github/workflows/release.yml` æ–‡ä»¶ä¸­çš„ `åˆ›å»ºå‘å¸ƒè¯´æ˜` æ­¥éª¤ã€‚

## ğŸ› ï¸ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹è§¦å‘æ¡ä»¶
ç¼–è¾‘ `.github/workflows/release.yml` ä¸­çš„ `on.push.tags` éƒ¨åˆ†ï¼š

```yaml
on:
  push:
    tags:
      - 'v*'        # æ‰€æœ‰ä»¥ v å¼€å¤´çš„ tag
      - 'release-*' # æ‰€æœ‰ä»¥ release- å¼€å¤´çš„ tag
```

### æ·»åŠ æ„å»ºå¹³å°
é»˜è®¤åœ¨ Ubuntu ä¸Šæ„å»ºï¼Œå¯ä»¥æ·»åŠ å¤šå¹³å°æ”¯æŒï¼š

```yaml
strategy:
  matrix:
    os: [ubuntu-latest, windows-latest, macos-latest]
runs-on: ${{ matrix.os }}
```

## ğŸ“š ç›¸å…³é“¾æ¥

- [GitHub Actions æ–‡æ¡£](https://docs.github.com/cn/actions)
- [Maven å®˜æ–¹æ–‡æ¡£](https://maven.apache.org/guides/)
- [è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶](https://semver.org/lang/zh-CN/)

---

å¦‚æœ‰é—®é¢˜ï¼Œè¯·åœ¨ Issues ä¸­åé¦ˆã€‚ 